#!/bin/bash

sed 's/Archaea;empty_kingdom;/Archaea;/g' <$1 | sed 's/Bacteria;empty_kingdom;/Bacteria;/g' | sed 's/Eukaryota;empty_kingdom;/Eukarya;/g' | sed 's/empty_superkingdom;Animalia;/Eukarya;/g' | sed 's/empty_superkingdom;Archaea;/Archaea;/g' | sed 's/;empty_species;//g' | sed 's/empty_superkingdom;Bacteria;/Bacteria;/g' | sed 's/empty_superkingdom;Protista;/Eukarya;SAR;/g' | sed 's/empty_superkingdom;Fungi;/Eukarya;Fungi_/g' | sed 's/Eukaryota;Fungi;/Eukarya;Fungi_/g' | sed 's/Eukaryota;/Eukarya;/g' | sed 's/Eukarya;Metazoa;/Eukarya;/g' | sed 's/Eukarya;Viridiplantae;/Eukarya;/g' | sed 's/Eukarya;Fungi;/Eukarya;Fungi_/g' | sed 's/Eukarya;Fungi_empty/Eukarya;Fungi;empty/g' | sed 's/Eukarya;Fungi;empty_phylum;/Eukarya;Fungi;/g' | sed 's/;Fungi;/;Fungi_/g' | sed 's/;Fungi_empty_class;/;Fungi;empty_class;/g' | sed 's/empty_superkingdom;Chromista/Eukarya/g' | sed 's/empty_superkingdom;Plantae;/Eukarya;/g' | sed 's/empty_superkingdom;Protista;/Eukarya;/g' | sed 's/empty_superkingdom;Protozoa;/Eukarya;/g' | sed 's/Eukarya;;/Eukarya;/g' | sed 's/Not assigned/Unassigned/g' > $1.$$